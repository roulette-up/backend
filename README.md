## β™οΈ κΈ°μ  μ¤νƒ

- **Language:** Kotlin
- **Build Tool:** Gradle
- **Databases & Caching:** MySQL, Caffeine Cache
- **DevOps & Cloud:** GitHub Actions, AWS

## π—„οΈ ERD

<img width="1272" height="827" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2026-02-10 α„‹α…©α„’α…® 6 00 49" src="https://github.com/user-attachments/assets/60d17e04-84cd-40ff-af6b-ec0f814ddd20" />


- **users:** μ„λΉ„μ¤ μ‚¬μ©μ μ •λ³΄
- **point_debt_ledger:** ν¬μΈνΈ λ¶€μ±„ μƒν™ μ •λ³΄
- **daily_roulette:** λ£°λ › μ •λ³΄
- **roulette_budget_setting:** λ‚ μ§λ³„ λ£°λ › μμ‚° μ„¤μ • μ •λ³΄
- **point_record:** μ‚¬μ©μ λ£°λ › μ°Έμ—¬ μ •λ³΄
- **product:** λ“±λ΅λ μƒν’ μ •λ³΄
- **orders:** μ‚¬μ©μ μƒν’ κµ¬λ§¤ μ •λ³΄
- **order_point_usage:** μ£Όλ¬Έμ— μ‚¬μ©ν• ν¬μΈνΈ μ •λ³΄
- **notification:** μ‚¬μ©μ μ•λ¦Όν•¨ μ •λ³΄

## π—οΈ λ¨λ“ μ•„ν‚¤ν…μ²

<img width="561" height="441" alt="ν”„λ΅μ νΈκµ¬μ΅°" src="https://github.com/user-attachments/assets/abc68c3a-ce09-43e9-a01c-3c62372fecd8" />


- app/adminμ€ μ„λ΅ λ‹¤λ¥Έ μ§„μ…μ κ³Ό λ°°ν¬ λ‹¨μ„λ¥Ό κ°€μ§€λ” λ…λ¦½ μ• ν”λ¦¬μΌ€μ΄μ…
- λ™μΌ λ„λ©”μΈμ„ κ³µμ ν•μ§€λ§, μ»¨νΈλ΅¤λ¬/ν•„ν„° λ“± μν–¥ λ²”μ„ λ¶„λ¦¬

## π“¦ ν¨ν‚¤μ§€ κµ¬μ΅°

```
roulette-up/
β”β”€ rouletteup-app/                    # μ•± μ• ν”λ¦¬μΌ€μ΄μ… λ¨λ“
β”‚  β”β”€ app/                            # μ•± κΈ°λ¥ (presentation/application)
β”‚  β”β”€ config/                         # μ•± μ„¤μ • (μ¤μΌ€μ¤„λ§ λ“±)
β”‚  β””β”€ internal/                       # λ‚΄λ¶€ μ„λ²„ API/μ„¤μ •/ν•„ν„° λ“±
β”β”€ rouletteup-admin/                  # κ΄€λ¦¬μ μ• ν”λ¦¬μΌ€μ΄μ… λ¨λ“
β”‚  β”β”€ admin/                          # κ΄€λ¦¬μ κΈ°λ¥ (presentation/application)
β”‚  β”β”€ common/                         # κ΄€λ¦¬μ κ³µν†µ μ½”λ“ (κ¶ν• μΈν„°μ…‰ν„°)
β”‚  β”β”€ config/                         # κ΄€λ¦¬μ μ„¤μ • (μΈν„°μ…‰ν„° λ“±)
β”‚  β”β”€ exception/                      # κ΄€λ¦¬μ κ΄€λ ¨ μμ™Έ μ²λ¦¬
β”‚  β””β”€ internal/                       # λ‚΄λ¶€ μ„λ²„ μ΄λ²¤νΈ/ν΄λΌμ΄μ–ΈνΈ/μ„¤μ • λ“±
β”β”€ rouletteup-domain/                 # λ„λ©”μΈ λ¨λΈ λ° ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚  β”β”€ config/                         # λ„λ©”μΈ μ„¤μ •
β”‚  β””β”€ domain/                         # λ„λ©”μΈ μ—”ν‹°ν‹°/λ΅μ§
β”β”€ rouletteup-infrastructure/         # μΈν”„λΌ κµ¬ν„ (Cache, μ™Έλ¶€ μ„λΉ„μ¤ λ“±)
β”‚  β”β”€ cache/                          # Cache
β”‚  β””β”€ config/                         # μΈν”„λΌ μ„¤μ •
β”β”€ rouletteup-common/                 # κ³µν†µ μ ν‹Έλ¦¬ν‹° λ° κ³µμ  μ½”λ“
β”‚  β”β”€ config/                         # common μ„¤μ •
β”‚  β”β”€ response/                       # μ „μ—­ μμ™Έ λ° μ‘λ‹µ μ²λ¦¬
β”‚  β””β”€ util/                           # μ ν‹Έμ„± ν΄λμ¤
```

## π”„ μ£Όμ” λ΅μ§ νλ¦„

### 1οΈβƒ£ λ£°λ › μ°Έμ—¬

<img width="774" height="666" alt="α„…α…®α†―α„…α…¦α†Ί α„α…΅α†·α„‹α…§ 1" src="https://github.com/user-attachments/assets/ce6487a1-3074-44e7-b11f-055a7e36f791" />
<img width="780" height="657" alt="α„…α…®α†―α„…α…¦α†Ί α„α…΅α†·α„‹α…§ 2" src="https://github.com/user-attachments/assets/2c30529f-deac-453d-a60e-a1f64fde9b85" />


1. κΈμΌ λ£°λ › μ°Έμ—¬ ν™•μΈ (1μΌ 1ν μ°Έμ—¬)
2. Lock νλ“ (Reentrant Lock)
3. μ΄ μμ‚°, μ‚¬μ© μμ‚° μΊμ‹ μ΅°ν (MISS β†’ DB μ΅°ν)
4. random(100, min(1000, λ‚¨μ€ μμ‚°))μΌλ΅ ν¬μΈνΈ νλ“
5. λ£°λ › μμ‚° μ—…λ°μ΄νΈ
6. μ‚¬μ©μ ν¬μΈνΈ νλ“ κΈ°λ΅ (ν¬μΈνΈ λ¶€μ±„ μλ‹¤λ©΄, ν¬μΈνΈ λ¶€μ±„ μƒν™ ν›„ κ°’μ„ μ λ¦½)
7. Lock λ°λ‚©


### 2οΈβƒ£ μ”μ—¬ κΈμ•΅ μ΅°ν

<img width="872" height="742" alt="α„α…΅α†«α„‹α…§ α„€α…³α†·α„‹α…Άα†¨ α„α…©α„’α…¬ α„‰α…µα„α…―α†«α„‰α…³ α„ƒα…΅α„‹α…µα„‹α…¥α„€α…³α„…α…Άα†·" src="https://github.com/user-attachments/assets/92e73bab-bea3-4950-8bdb-3a7c55d4fe47" />


1. μ΄ μμ‚°, μ‚¬μ© μμ‚° μΊμ‹ μ΅°ν
2. MISS β†’ DB μ΅°ν (μΊμ‹μ— μ—…λ°μ΄νΈ x β†’ λ£°λ › μ°Έμ—¬ λ΅μ§κ³Ό μ¶©λ λ°μƒ κ°€λ¥μ„±)


### 3οΈβƒ£ ν¬μΈνΈ νμ

<img width="798" height="716" alt="α„‘α…©α„‹α…µα†«α„α…³ α„’α…¬α„‰α…®" src="https://github.com/user-attachments/assets/dc5bdfdf-1a20-4aa5-a8c7-2569450e6f94" />

1. νμν•κ³ μ ν•λ” ν¬μΈνΈ μ΅°ν
2. μ΄λ―Έ νμν–λ‹¤λ©΄, μμ™Έ μ²λ¦¬
3. ν¬μΈνΈ μ‚¬μ© λ‚΄μ—­ ν™•μΈ
4. λ‚¨μ€ κΈμ•΅ νμ + μ‚¬μ© ν¬μΈνΈλ” λ¶€μ±„ μ¦κ°€


### 4οΈβƒ£ κΈμΌ λ£°λ › μμ‚° μμ •

<img width="640" height="735" alt="α„‹α…¨α„‰α…΅α†« α„‰α…®α„α…¥α†Ό" src="https://github.com/user-attachments/assets/7e0b83bc-137a-4cf5-bf66-921946feca0f" />


1. μ–΄λ“λ―Όμ΄ μ΄ μμ‚° μμ •
2. μμ‚° μ—…λ°μ΄νΈ ν›„ μ΄ μμ‚° μΊμ‹ μ‚­μ  μ΄λ²¤νΈ μ²λ¦¬
3. Admin Server β†’ App Server λ‚΄λ¶€ ν†µμ‹ 
4. App Serverμ—μ„ `X-Internal-Token`μ„ ν†µν•΄ λ‚΄λ¶€ ν†µμ‹  κ²€μ¦
5. μ΄ μμ‚° μΊμ‹ μ‚­μ 


### 5οΈβƒ£ μ£Όλ¬Έ

<img width="523" height="716" alt="α„α…®α„†α…®α†«" src="https://github.com/user-attachments/assets/fd7a13e8-7f20-4901-8d88-b85840fd1e07" />


1. ν„μ¬ ν¬μΈνΈλ΅ μƒν’ μ£Όλ¬Έ κ°€λ¥ μ—¬λ¶€ ν™•μΈ
2. μƒν’ μ¬κ³  μ›μ μ—…λ°μ΄νΈ μ°¨κ°
3. μ¬κ³  μ°¨κ° μ„±κ³µ μ‹, λ§λ£ μ„λ°• ν¬μΈνΈλ¶€ν„° μ‚¬μ© μ²λ¦¬
